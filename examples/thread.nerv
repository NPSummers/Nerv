import nerv::std;

plug worker(): Int {
  print("start");
  nerv::std::time::sleep(500);
  print("end");
  return 0;
}

plug main(): Int {
  plug h = nerv::std::thread::spawn(worker);
  nerv::std::time::sleep(100);
  print("main after 100ms");
  nerv::std::thread::join(h);
  return 0;
}